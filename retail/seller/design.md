# 设计

## 概要

### 术语
| 名称 | 说明 |
| :----: | ---- |
| 商户(Seller) | 销售机构/公司 |
| 总部 | 商户的总部 |
| 网店 | 商户的网上店铺 |
| 线下店 | 商户的线下门店，连锁和单体 |
| 门店(SellerShop) | 网店和线下店的统称 |
| 商户员工(SellerAccount) | 归属于总部/网店/线下店 |
| 商品(Item) | iPhone7 |
| 商品规格(ItemSpec) | 64G,128G两种规格 |
| SKU | 结构：商品规格，门店，售价，会员价，库存 |

### 商户角色
| 角色 | 功能 | 说明 |
| :----: | ---- | ---- |
| 总部 | 商品发布(可设置可售门店)，统一描述、统一促销，分配网络订单到线下店 | |
| 门店 | 上架商品，设置库存和价格，管理订单，发布管理本店商品(可选) | 独立库存/售价/财务 |

## 方案
### 商户
* 申请
一个公司只能申请一个商户

### 门店
一个商户只能有一家网店，能打通线下店功能（允许多个）。

### 优惠券
* 创建

| 类型 | 发布人 | 参加 |
| :----: | ---- | ---- |
| 平台券 | 平台 | 商户自愿选择门店加入 |
| 商家券 | 商家 | 商户总部选择门店加入，也可门店自愿选择加入 |

* 使用
> 在网店和线下店使用（券创建时选择的门店）

### 销售
* 商品发布
> 总部发布商品，系统会创建1个Item和多个ItemSpec

* 入库
> 门店选择商品和规格，填写数量。系统会创建出1个SKU

* 上下架
> 门店选择商品和规格，上下架。系统会修改SKU的状态

### 线下店的信息更新
商户自身的PMS系统，同步信息到商城（商城需提供API）
